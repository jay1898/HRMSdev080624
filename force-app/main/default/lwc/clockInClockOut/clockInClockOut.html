<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 02-23-2024
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
	<div class="overrideStyle"></div>
	<div class="font">
		<div class="slds-col slds-size_12-of-12">
			<div>
				<div class="Box">
					<span>
						<article class="slds-card Body">
							<div style="margin: 10px; height:264px;">
								<div class="slds-p-bottom_small">
									<div class="clock_Time">
										<div>
											<span>
												<label style="font-size: 16px; color: #194051;">Online Attendance 
												</label><br />
											</span>
										</div>
										<div>
											<span>
												<label 
												style="font-size: 26px; color: #194051;"><B>{time}</b></label><br />
											</span>
										</div>
									</div>
								</div>
								<div class="Break_Page">
									<div class="slds-grid slds-wrap">
										<div class="slds-col slds-large-size_8-of-12 slds-medium-size_6-of-12 slds-size_12-of-12" style="margin-bottom: 7px;">
											<span>
												<label class="Break">Office Break </label><br />
											</span>
										</div>
										<div class="slds-col slds-large-size_4-of-12 slds-medium-size_6-of-12 slds-size_12-of-12">
											<span>
												<label class="Timer">01:00-01:45 </label><br />
											</span>
										</div>
										<div class="slds-col slds-large-size_8-of-12 slds-medium-size_6-of-12 slds-size_12-of-12" style="margin-bottom: 7px;">
											<span>
												<label class="Break">Target Working Hours </label><br />
											</span>
										</div>
										<div 
										class="slds-col slds-large-size_4-of-12 slds-medium-size_6-of-12 slds-size_12-of-12">
											<span>
												<label class="Days">8h/days</label><br />
											</span>
										</div>
										<div 
										class="slds-col slds-large-size_8-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 ">
											<template if:false={isClockinorout}>
												<span>
													<label class="Sincelogin">
														Since Login
													</label><br />
												</span>
											</template>
										</div>
										<div 
										class="slds-col slds-large-size_4-of-12 slds-medium-size_6-of-12 slds-size_12-of-12">
											<template if:false={isClockinorout}>
												<span>
													<label class="Timedifference">
														{timeDifference}
													</label><br />
												</span>
											</template>
										</div>
									</div>
								</div><br>
								<div class="slds-p-bottom_small">
									<div class="clock_in_box">
										<div class="">
											<span>
												<template if:true={isClockinorout}>
													<button class="clockinButtonStyle clockinButtonStyle hover-grow"
														name="clockin" onclick={handleClockinoutBtn}>Clock-in</button>
												</template>
												<template if:false={isClockinorout}>
													<template if:false={isDisableClockoutFor1min}>
														<button
															class="clockoutButtonStyle clockoutButtonStyle hover-grow"
															name="clockout" 
															onclick={handleClockinoutBtn}>Clock-out</button> 
														</template>
													<template if:true={isDisableClockoutFor1min}>
														<button
															class="clockoutButtonDisable clockoutButtonDisable hover-grow"
															name="clockout" disabled>Clock-out</button>
													</template>
												</template>
												<!-- <template if:false={isClockinorout}>
													<template if:false={isDisableClockoutFor1min}>
														<button
															class="slds-button slds-button_destructive clockinButtonStyle"
															name="clockout" onclick={handleClockinoutBtn}>Clock-out</button>
													</template>
													<template if:true={isDisableClockoutFor1min}>
														<button
															class="slds-button slds-button_destructive clockinButtonStyle"
															name="clockout" disabled>Clock-out</button>
													</template>
												</template> -->	
											</span>
										</div>

										<div class="" style="text-align: center;">
										<span class="custom-button-menu">
											<lightning-button-menu name="Other" alternative-text="Other" 
												class="leaveApply" label="Other" >
												<lightning-menu-item value="WorkFromHome" label="Work from Home"
														style="font-size: 16px;" 
														onclick={workFromHomeSelect}></lightning-menu-item>
													<lightning-menu-item value="ApplyLeave" label="Apply Leave"
														style="font-size: 16px;" 
														onclick={leaveOptionSelect}></lightning-menu-item>
												</lightning-button-menu>
											</span>
											<!-- Modal Popup  -->
											<div>
												<!-- <lightning-button  class="slds-m-left_small" variant="brand" label="Create Contact" title="createContact" onclick={handleCreateContactRecords}></lightning-button>                         -->
										<template if:true={isModalOpenWFH}>
											<section role="dialog" tabindex="-1" 
											aria-labelledby="modal-heading-01" aria-modal="true" 
											aria-describedby="modal-content-id-1" 
											class="slds-modal slds-fade-in-open custom-modal-right">
													<div class="slds-modal__container">
														<header class="slds-modal__header"><!-- in future we need to remove header  -->
													<button 
														class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
																title="Close" onclick={closeModal}>
																<lightning-icon icon-name="utility:close" 
																alternative-text="close" variant="inverse" 
																size="small"></lightning-icon>
																<span class="slds-assistive-text">Close</span>
															</button>

															<h2 id="modal-heading-01"
																class="slds-text-heading_medium slds-hyphenate Workfromhome"> 
																Work From Home Request </h2>
														</header>
															<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1"> 
																<div class="slds-p-horizontal_x-small">
																	<div class="slds-form-element">
																		<div class="slds-grid slds-gutters">
																			<div class="slds-col" style="width:20%;">
																				<div class="startDate">
																					
																					
																					
																					
																					
																					
																					
																					
																					<label> Start Date</label>
																				</div>
																				<div class=""
																					style="display: flex;flex-direction: row;align-items: center;margin-top: 10px;background:#DEF5E4;border-radius:6px;">
																					<span
																						style="font-size: 17px;color: #00A129;font-weight: bold;margin: 10px;">
																					</span>
																					<lightning-icon
																						icon-name='utility:date_input'
																						alternative-text='date_input'
																						variant='success' size='x-small'
																						title='date_input'></lightning-icon>
																					&nbsp;
																					<lightning-input type="date" 
																						name="FromDate"
																						placeholder="Select Date"
																						class="remove_border hide-date-icon"
																						style="width:120px"
																						onchange={WFHHandleSelection}>
																					</lightning-input></b>
																				</div>
																			</div>
																			<div class="slds-col" style="width:20%;">
																			</div>
																			<div class="slds-col" style="width:20%;">
																				<div class="endDate">
																					<label> End Date</label>
																				</div>
																				<div class=""
																					style="display: flex; flex-direction: row; align-items: center; margin-top: 10px; background:#DEF5E4; border-radius:6px; margin-bottom: 10px;margin-bottom: 23px;">
																					<span
																						style="font-size: 17px;color: #00A129;font-weight: bold;margin: 10px;">
																					</span>
																					<lightning-icon
																						icon-name='utility:date_input'
																						alternative-text='date_input'
																						variant='success' size='x-small'
																						title='date_input'></lightning-icon>
																					&nbsp;
																					<lightning-input type="date"
																						name="ToDate"
																						placeholder="Select Date"
																						class="hide-date-icon"
																						style="width:120px"
																						onchange={WFHHandleSelection}>
																					</lightning-input></b>
																				</div>
																			</div>
																		</div>
																		<div class="slds-grid slds-gutters">
																			<div class="slds-col">
																				<div class="totalDays1">
																					<label> Total Day's</label>
																				</div>
																				<div class="total-days Days">
																					{totalDays}&nbsp;Days</div>
																			</div>

																		</div>
																	</div>

																	<!-- work from home type -->

																	<template if:true={isOnedayLeave}>

																		<div style="padding-top: 20px; width: 120px;">
																			<article id="midnight-series1"
																				class="series">
																				<article id="switch1"
																					class="switch-toggle three-way">

																					<input id="s1-op_one1"
																						name="wfhType" type="radio"
																						value="Full Day WFH" checked=""
																						onchange={WFHHandleSelection}>
																					<label for="s1-op_one1;">Full
																						Day</label>

																					<!-- need add condition here if we want to hide first half or second half   -->

																					<!-- <input id="s1-op_two1"
																						name="wfhType" type="radio"
																						value="First Half WFH"
																						onchange={WFHHandleSelection}>
																					<label for="s1-op_two1">First
																						Half</label>

																					<input id="s1-op_three1"
																						name="wfhType" type="radio"
																						value="Second Half WFH"
																						onchange={WFHHandleSelection}>
																					<label for="s1-op_three1">Second
																						Half</label> -->
																					<div class="slider"></div>
																				</article>
																			</article>
																		</div>
																	</template>
																	<!-- Reason -->
																	<div class="slds-col">
																		<div class="reason">
																			<label>Reason</label>
																		</div>
																		<div class="textarea">
																			<lightning-textarea type="text"
																				data-index={index} class=""
																				name="Reason"
																				placeholder=""
																				onchange={handleReasonChange}
																				onblur={WFHHandleSelection}>																				
																			</lightning-textarea>
																		</div>
																	</div>

																	<!-- Button -->
																	<div class="slds-form-element">
																		<div class="">
																			<div class="">
																				<div class="apply_btn">
																					<span
																						style=" margin-right: 10px;">
																						<button onclick={closeModal} 
																						class="canclebtn">Cancel</button>
																					</span>
																					<span>
																						<button 
																						onclick={handleSaveClickWFH} 
																						class="savebtn">Save</button>
																					</span>
																				</div>
																			</div>
																		</div>
																	</div>

																</div>
															</div>
														</div>
													</section>
													<div class="slds-backdrop slds-backdrop_open"></div>
												</template>

												<template if:true={isModalOpenLEAVE}>
													<section role="dialog" tabindex="-1" 
													aria-labelledby="modal-heading-02" aria-modal="true" 
													aria-describedby="modal-content-id-1"
													class="slds-modal slds-fade-in-open">
												<div class="slds-modal__container">
													<header class="slds-modal__header">
														<button 
														class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
															title="Close" onclick={closeModal}>
															<lightning-icon icon-name="utility:close"
																alternative-text="close" variant="inverse"
																size="small"></lightning-icon>
															<span class="slds-assistive-text">Close</span>
														</button>
														<h2 id="modal-heading-02"
															class="slds-text-heading_medium slds-hyphenate Workfromhome">
															Request Leave</h2>
													</header>				
															<div class="slds-modal__content slds-p-around_medium"
																id="modal-content-id-2">
																<div class="slds-p-horizontal_x-small">
																	<div
																		class="slds-form-element slds-p-right_medium slds-p-bottom_small">
																		<div class="slds-form-element">
																		

																			<div class="slds-grid slds-gutters">
																				<div class="slds-col"
																					style="width:20%;">
																					<div class="startDate">
																						<label> Start Date</label>
																					</div>
																					<div class=""
																						style="display: flex;flex-direction: row;align-items: center;margin-top: 10px;background:#DEF5E4;border-radius:6px;">
																						<span
																							style="font-size: 17px;color: #00A129;font-weight: bold;margin: 10px;">
																						</span>
																						<lightning-icon
																							icon-name='utility:date_input'
																							alternative-text='date_input'
																							variant='success'
																							size='x-small'
																							title='date_input'></lightning-icon>
																						&nbsp;
																						<lightning-input type="date"
																							name="FromDate"
																							placeholder="Select	 Date"
																							class="remove_border hide-date-icon"
																							style="width:120px"
																							onchange={leaveHandleSelection}>
																						</lightning-input></b>
																					</div>
																				</div>
																				<div class="slds-col"
																					style="width:20%;">

																				</div>
																				<div class="slds-col"
																					style="width:20%;">
																					<div class="endDate">
																						<label> End Date</label>
																					</div>
																					<div class=""
																						style="display: flex; flex-direction: row; align-items: center; margin-top: 10px; background:#DEF5E4; border-radius:6px; margin-bottom: 10px;">
																						<span
																							style="font-size: 17px;color: #00A129;font-weight: bold;margin: 10px;">
																						</span>
																						<lightning-icon
																							icon-name='utility:date_input'
																							alternative-text='date_input'
																							variant='success'
																							size='x-small'
																							title='date_input'></lightning-icon>
																						&nbsp;
																						<lightning-input type="date"
																							name="ToDate"
																							placeholder="Select Date"
																							class="hide-date-icon"
																							style="width:120px"
																							onchange={leaveHandleSelection}>
																						</lightning-input></b>
																					</div>
																				</div>

																			</div>
																			<div class="slds-grid slds-gutters">
																				<div class="slds-col"
																					style="width:40%;">
																					<div class="totalDays1">
																						<label> Total Day's</label>
																					</div>
																					<div class="total-days Days">
																						{totalDays}&nbsp;Days</div>

																				</div>
																				<div class="slds-col"
																					style="width:20%; text-align: end; padding-top: 55px; font-size: large;">
																					{numberOfAvailableLeaves} days
																					available
																				</div>

																			</div>
																			

																		</div>
																	</div>
																</div>
																<!-- Leave type -->
																<template if:true={isOnedayLeave}>
																	<article id="midnight-series" class="series1 ">
																		<article id="switch2"
																			class="switch-toggle three-way">

																			<input id="s1-op_one" name="leaveDuration"
																				type="radio" value="Full Day" checked=""
																				onchange={leaveHandleSelection}>
																			<label for="s1-op_one">Full Day</label>

																			<input id="s1-op_two" name="leaveDuration"
																				type="radio" value="First Half"
																				onchange={leaveHandleSelection}>
																			<label for="s1-op_two">First Half</label>

																			<input id="s1-op_three" name="leaveDuration"
																				type="radio" value="Second Half"
																				onchange={leaveHandleSelection}>
																			<label for="s1-op_three">Second Half</label>
																			<div class="slider"></div>
																		</article>
																	</article>
																</template>

																<template if:true={ismultipledayLeave}>
																	<article id="midnight-series2" class="series2 ">
																		<article id="switch3"
																			class="switch-toggle three-way">

																			<input id="s2-op_one" name="leaveDuration"
																				type="radio" value="Full Day" checked = {fullDayValue}
																				onchange={handleRadioChange}>
																			<label for="s2-op_one">Full Day</label>

																			<input id="s2-op_two" name="leaveDuration"
																				type="radio" value="custom" checked = {customValue}
																				onchange={handleRadioChange}>
																			<label for="s2-op_two">Custom</label>
																			<div class="slider"></div>
																		</article>
																	</article>
																</template>

																<template if:true={showLeaveDuration}>
																	<div class="slds-grid slds-gutters">
																		<div class="slds-col" style="width:40%;">
																			<div class="leaveDuration">
																				<label><abbr title="required" class="slds-required">*</abbr> From {formattedFromDate}</label>
																			</div>
																			<lightning-combobox class="remove_label"
																				options={fromDateleaveDurationOption}
																				name="fromDateLeaveDurationOption"
																				onchange={leaveHandleSelection}
																				data-index={index}>
																			</lightning-combobox>
																		</div>
																		<div class="slds-col" style="width:20%;">

																		</div>
																		<div class="slds-col" style="width:40%;">
																			<div class="leaveDuration1">
																				<label> <abbr title="required" class="slds-required">*</abbr> To {formattedToDate}</label>
																			</div>
																			<div style="margin-bottom: 10px;">
																				<!-- <lightning-combobox  options={leaveDurationOption} name="leaveType" onchange={leaveHandleSelection} data-index={index} >
							</lightning-combobox> -->
																				<lightning-combobox class="remove_label"
																					options={toDateleaveDurationOption}
																					name="toDateleaveDurationOption"
																					onchange={leaveHandleSelection}
																					data-index={index}>
																				</lightning-combobox>
																			</div>
																		</div>
																	</div>
																</template>
																<!-- Note -->
																<div class="slds-col">
																	<div class="reason">
																		<label>Reason</label>
																	</div>
																	<div class="textarea">
																		<lightning-textarea type="text"
																			data-index={index} 
																			class="" name="Reason"
																			placeholder =""
																			onchange={handleReasonChange}
																			onblur={leaveHandleSelection}>
																		</lightning-textarea>
																	</div>
																</div>
																<!-- Button -->
																<div class="slds-form-element">
																	<div class="slds-grid slds-gutters">
																		<div class="slds-col">
																			<div class="apply_btn">
																				<span
																					style="margin-right: 10px;">
																					<button onclick={closeModal}
																						class="canclebtn">Cancel</button>
																				</span>
																				<span>
																					<template if:false={isDisableSave}>
																						<button
																						onclick={handleSaveClickLEAVE}
																						class="savebtn">Save</button>
																					</template>
																					<template if:true={isDisableSave}>
																						<button
																						onclick={handleSaveClickLEAVE}
																						class="savebtn" disabled>Save</button>
																					</template>
																				</span>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</section>
													<div class="slds-backdrop slds-backdrop_open"></div>
												</template>
											</div>
										</div>
									</div>
								</div>
							</div>
						</article>
					</span>
				</div>
			</div>
		</div>
	</div>
	<template if:true={isClockOutForget}>
		<div if:true={isSpinnerLoad}>
			<div class="demo-only demo-only_viewport demo--inverse"
				style="height:6rem;background-color:#16325c;position:relative">
				<div class="slds-spinner_container slds-is-fixed">
					<div role="status" class="slds-spinner slds-spinner_medium">
						<span class="slds-assistive-text">Loading</span>
						<div class="slds-spinner__dot-a"></div>
						<div class="slds-spinner__dot-b"></div>
					</div>
				</div>
			</div>
		</div>
		<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-03" aria-modal="true"
			aria-describedby="modal-content-id-3" class="slds-modal slds-fade-in-open">
			<div class="slds-modal__container">
				<header class="slds-modal__header">
					<h2 id="modal-heading-03" class="slds-text-heading_medium slds-hyphenate">Reminder: Clock Out</h2>
				</header>
				<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3">
					<div class="slds-p-horizontal_x-small">
						<div style="font-size: 20px; text-align: center;">
							<p> You Forgot to Clock Out. Please Clock Out Now. </p>
							<br /><br />
						</div>

						<lightning-input type="date" label="Clock Out Date" name="clockOutDate"
							onchange={handleDateTimeChange} value={lastForgetClockinDate} disabled required="true">
						</lightning-input>
						<lightning-input type="time" label="Clock Out Time" name="clockOutTime"
							onchange={handleDateTimeChange} required="true"></lightning-input>
					</div>
				</div>
				<footer class="slds-modal__footer">
					<button class="slds-button slds-button_brand" onclick={handleClockOut}
						disabled={isClockOutDateTimeNotFilled}>Clock Out</button>
				</footer>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>
	</template>
</template>