<template>
	
	<template if:true={showTab}>
			<div class="tab-container">
				<ul class="tab-list">
					<li class="tab" data-tab="TicketHistory" onclick={handleTabClick}>Ticket History</li>
					<li class="tab" data-tab="TimeSheetData" onclick={handleTabClick}>TimeSheet Data</li>
				</ul>
				<div class="tab-indicator"></div>
			</div>
			<template if:true={showTimesheetData}>
				<!-- <c-record-data-filter></c-record-data-filter> -->
				<c-timesheet-data></c-timesheet-data>
			</template>
		
	</template>

    <template if:true={showTicketHistory}>
		<lightning-card title="Ticket History" style="background:#EAECF1;" icon-name="standard:channel_program_history">
			<div class="overrideStyle"></div>
			<div if:true={loaded}>
				<lightning-spinner variant="brand" size="medium"></lightning-spinner>
			</div>
			<div class="slds-p-around_medium">
				<div class="selection_Sec slds-m-bottom_large">

					<div class="slds-m-bottom_small">
						<lightning-input class="ticketNumber" style="width:400px" label="Enter Ticket Number"
							type="text" value={selectedTicket} onchange={handleticketChange}></lightning-input>
					</div>
					<lightning-radio-group name="searchOption" label="Search Option" options={searchOptions}
						value={selectedOption} onchange={handleOptionChange}>
					</lightning-radio-group>
					<template if:true={showEntirebtn}>
						<div class="entire_time_sheet">
							<div class="slds-form-element" style="display: inline-block;">
								<label class="slds-checkbox_toggle slds-grid">
                            <span class="slds-form-element__label slds-m-bottom_none">Search From Entire Time Sheet</span>
                            <input type="checkbox" name="Entire_Time_Sheet" value={selectedEntireSheet} aria-describedby="Entire_Time_Sheet" checked={selectedEntireSheet} onchange={handleToggleChange}/>
                            <span id="Entire_Time_Sheet" class="slds-checkbox_faux_container">
                                <span class="slds-checkbox_faux"></span>
                            </span>
                            </label>
							</div>
						</div>
					</template>
					<div class="btn_Section">
						<button onclick={handleSubmit} class="submit">Submit</button>
					</div>
				</div>

				<template if:true={hasData}>
					<div style="display: flex;justify-content: space-between;margin-bottom: 10px;">
						<div class="total_hour">Total Hours : <b>{totalhours}</b> </div>
						<div style="display: flex;margin-bottom: 6px;">
							<button onclick={handleCopyClick} style="margin-right: 20px;" class="copy_data">Copy Data</button>
							<button onclick={exportContactData} class="export_data">Download Excel</button>
							<!-- <lightning-button variant="brand" label="Copy Data" title="Copy Data" onclick={handleCopyClick}></lightning-button> 
                        <lightning-button variant="brand" label="Export Excel" title="Export Contact Data" onclick={exportContactData}></lightning-button>  -->
						</div>
					</div>
					<lightning-datatable key-field="Id" data={recordsToDisplay} columns={columns}
						hide-checkbox-column="true">
					</lightning-datatable>


					<div class="slds-grid slds-grid_vertical-align-center slds-grid_align-spread"
						style="padding-top: 0.5em;">

						<div class="slds-col">
							<div class="slds-list_inline slds-p-bottom_xx-small">
								<label class="slds-text-color_weak slds-p-horizontal_x-small" for="recordsPerPage">Page Size:</label>
								<div class="slds-select_container">
									<select class="slds-select" id="recordsPerPage" onchange={handleRecordsPerPage} >
                                    <template for:each={pageSizeOptions} for:item="option">
                                        <option key={option} value={option}>{option}</option>
                                    </template>
                                </select>
								</div>
							</div>
						</div>
						<div class="slds-align_absolute-center" style="height:5rem">
							<lightning-button disabled={bDisableFirst} icon-name="utility:jump_to_left" label="First"
								class="slds-p-horizontal_x-small" alternative-text="first page" onclick={firstPage}>
							</lightning-button>
							<lightning-button disabled={bDisableFirst} icon-name="utility:chevronleft" label="Previous"
								alternative-text="Previous" onclick={previousPage}></lightning-button>
							&nbsp;
							<span class="slds-badge">Showing {pageNumber} &nbsp;of&nbsp; {totalPages} &nbsp;&nbsp;Page(s)</span>
							&nbsp;
							<lightning-button disabled={bDisableLast} icon-name="utility:chevronright" label="Next"
								alternative-text="Next" onclick={nextPage} class="slds-p-horizontal_x-small"
								icon-position="right"></lightning-button>
							<lightning-button disabled={bDisableLast} icon-name="utility:jump_to_right" label="Last"
								alternative-text="last page" onclick={lastPage} icon-position="right">
							</lightning-button>
						</div>
						<div class="slds-clearfix">
							<div class="slds-float_right">
								<span class="slds-badge"> Total Records: {totalRecords}</span>
							</div>
						</div>
					</div>

				</template>
			</div>
		</lightning-card>
	</template>
</template>