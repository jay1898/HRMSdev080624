<template>
	<div class="overrideStyle"></div>
	<!-- <lightning-spinner alternative-text="Loading" size="large" if:true={isLoading} variant="brand"></lightning-spinner> -->
	<div style="display: flex; justify-content:space-between">
		<div style="width: 65%;">
			<div class="tab-container">
				<ul class="tab-list">
					<li class="tab" data-tab="Announcement" onclick={handleTabClick}>Announcement</li>
					<li class="tab" data-tab="Post" onclick={handleTabClick}>Post</li>
					<li class="tab" data-tab="Holidays" onclick={handleTabClick}>Holidays</li>
				</ul>
				<div class="tab-indicator"></div>
			</div>
			<div class="main_div slds-p-top_large">
				<template if:true={isAnnouncementTab}>
					<div class="slds-p-top_small scroll_css">
						<!-- <lightning-card title="Announcement" icon-name="utility:announcement"> -->
						<div class="inner_div">
							<div class="slds-grid slds-var-m-around_small">
								<div
									class="createContent slds col slds-size_12-of-12 slds-large-size_12-of-12 slds-medium-size_11-of-12 slds-small-size_12-of-12">
									<lightning-input-rich-text formats="font, bold, italic, underline, strike, list, indent, align,
       						 link, clean, code, code-block, color, background, mention, header" value={announcement}
										onchange={handleCreateEvent} data-field="Content__c"
										placeholder="Details of Announcement" pattern="^\S.*\S$">
									</lightning-input-rich-text>
								</div>
							</div>
							<div class="slds-grid slds-wrap slds-p-bottom_medium footerButtons">
								<div
									class="date_size slds-p-left_small slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-large-size_8-of-12">
									<label for="ExpirationDate">End Date &nbsp; &nbsp;</label>
									<lightning-input type="date" value={expirationDate} onchange={handleCreateEvent}
										data-field="Expiration_Date__c">
									</lightning-input>
								</div>

								<div class="btnView slds-col slds-size_1-of-1 slds-medium-size_12-of-12 slds-large-size_6-of-12"
									align="end">
									<div class="btnLook">
										<lightning-button class="slds-p-right_medium" label="Cancel"
											onclick={clearDetails} variant="neutral"></lightning-button>
											<template lwc:if={isSaveDisabled}>
												<lightning-button class="slds-p-right_medium btncolor" label="Save"
												onclick={handleSave} variant="brand" disabled></lightning-button>
											</template>
											<template lwc:else>
												<lightning-button class="slds-p-right_medium btncolor" label="Save"
												onclick={handleSave} variant="brand"></lightning-button>
											</template>
										
									</div>
								</div>
							</div>
						</div>

						<div class="first_div slds-m-around_medium">
							<template if:true={isLoadingAfter}>
								<!-- <div class="exampleHolder "> -->
								<lightning-spinner alternative-text="Loading" size="medium">
								</lightning-spinner>

								<!-- </div> -->
							</template>
							<template if:true={announcementList}>
								<template for:each={announcementList} for:item="ansmnt">
									<div key={ansmnt.Id} class="slds-box slds-m-bottom_small dataContent">
										<div class="employee_Info slds-grid slds-var-m-around_medium">
											<div class="image viewImage slds-p-right_small">
												<lightning-spinner if:true={isUploading} alternative-text="Uploading">
												</lightning-spinner>
												<!-- <img src={ansmnt.Profile_Photo} alt="Profile Image" class="profile-image"/> -->
												<c-emp-post-imaged-cmp content-version-id={ansmnt.Profile_Photo} image-type="Profile" class="profile-image"></c-emp-post-imaged-cmp>
										</div>
												<div class="employee_data">
													<div class="emp_name_main">
														<div class="employee_name slds-text-heading_small">
															{ansmnt.Announced_by_Name}
															<div
																class="createAnsmt slds-p-left_xx-small slds-p-top_xx-small">
																created an announcement </div>
														</div>

														<div class="employee_date">
															{ansmnt.CreatedDate}</div>
													</div>
													<!-- <div
														class="employee_name slds-text-heading_small">
														{notification.CreatedDateFormatted}</div> -->
													<div class="edit_Delete">
														<template if:true={ansmnt.isEditable}>
															<button class="slds-button slds-button_icon slds-m-horizontal_xx-small" title="Edit" onclick={handleEditModal} data-announceid={ansmnt.Id}>
																<lightning-icon icon-name="utility:edit" size="x-small" class="box1"></lightning-icon>
																	<span class="slds-assistive-text">Edit</span>
															</button>
															<button class="slds-button slds-button_icon slds-m-horizontal_xx-small" title="Delete" onclick={deleteModal} data-announceid={ansmnt.Id}>
																<lightning-icon icon-name="utility:delete" size="x-small" class="box1"></lightning-icon>
																	<span class="slds-assistive-text">Delete</span>
															</button>
														</template>
													</div>
												</div>
											</div>
											<!-- <template if:true={isLoadingAfter}>
												<div class="exampleHolder">
													<lightning-spinner alternative-text="Loading" size="medium">
													</lightning-spinner>
												</div>
											</template> -->

											<div class="Content_Info slds-var-m-around_medium">
												<template if:true={ansmnt.Content__c}>
													<lightning-formatted-rich-text value={ansmnt.Content__c}>
													</lightning-formatted-rich-text>
												</template>
											</div>

										</div>
								</template>

							</template>
							<!-- <div class="slds-backdrop slds-backdrop_open" style="position: absolute;" if:true={isLoadingAfter}></div> -->
							<template if:true={noContentAvail}>
								<div class="noContent">
									There are currently no announcements available.
								</div>
							</template>
							<template if:true={error}>
								<p class="slds-text-color_error">{error}</p>
							</template>

						</div>

					</div>

					<template if:true={isLoading}>
						<!-- <div class="view-button"> -->
						<div class="exampleHolder">
							<lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
						</div>
						<template if:false={contentAvailable}>
							<!-- <lightning-button label="Load More" onclick={loadMoreRecords} variant="base">
							</lightning-button> -->
						</template>
						<!-- </div> -->
					</template>

				<template if:false={isLoading}>
					<template if:true={isLoadingAfter}>
						<div class="view-button">
							<template if:true={contentAvailable}>
								<lightning-button label="Load More" onclick={loadMoreRecords} variant="base" disabled>
								</lightning-button>
							</template>
						</div>
					</template>
				</template>
				
					<template if:false={isLoading}>
						<template if:false={isLoadingAfter}>
						<div class="view-button">
							<template if:true={contentAvailable}>
								<lightning-button label="Load More" onclick={loadMoreRecords} variant="base">
								</lightning-button>
							</template>
						</div>
						</template>
					</template>

				

					<!-- <template if:false={noContentAvail}>
						<div class="view-button">
							<template if:true={contentAvailable}>
								<lightning-button label="Load More" onclick={loadMoreRecords} variant="base">
								</lightning-button>
							</template>
						</div>
					</template> -->



					<template if:true={isEditModalOpen}>

						<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
							aria-describedby="modal-content-id-4" class="slds-modal slds-fade-in-open">
							<div class="slds-modal__container">
								<!-- modal header start -->
								<header class="slds-modal__header">
									<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handleCancel}>
											<lightning-icon icon-name="utility:close"
											alternative-text="close"
											variant="inverse"
											size="small" ></lightning-icon>
											<span class="slds-assistive-text">Close</span>
										</button>
									<h2 id="modal-heading-04" class="slds-text-heading_medium slds-hyphenate">Edit
										Announcement</h2>
								</header>

								<!-- modal body start -->
								<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-4">

									<div class="slds-grid slds-var-m-around_small">
										<div class="slds-col slds-size_6-of-6">
											<template if:true={editedAnnounceList.Expiration_Date__c}>
												<div class="slds-p-bottom_medium">
													<b>End Date : {editedAnnounceList.Expiration_Date__c}</b>
												</div>
											</template>
											<lightning-input-rich-text value={editedAnnounceList.Content__c}
												onchange={handleContentChange} formats="font, bold, italic, underline, strike, list, indent, align,
												link, clean, code, code-block, color, background, mention, header">
											</lightning-input-rich-text>
										</div>
									</div>
								</div>

								<!-- modal footer start-->
								<footer class="slds-modal__footer deleteModal">
									<button class="slds-button slds-button_neutral" onclick={handleCancel}>Cancel</button>
									<button class="slds-button slds-button_brand btncolor" onclick={handleSaveEdit}>Save</button>
								</footer>

							</div>
						</section>
						<div class="slds-backdrop slds-backdrop_open"></div>
					</template>



					<template if:true={isDeleteModalOpen}>
						<section role="dialog" tabindex="-1" aria-modal="true" class="slds-modal slds-fade-in-open">
							<div class="slds-modal__container">
								<header class="slds-modal__header">
									<button class="slds-button slds-button_icon slds-modal__close" title="Close" onclick={handleCancel}>
                        <lightning-icon icon-name="utility:close" size="small"></lightning-icon>
                        <span class="slds-assistive-text">Cancel</span>
                    </button>
									<h2 class="slds-text-heading_medium">Delete Announcement</h2>
								</header>
								<div class="slds-modal__content slds-p-around_medium deleteModal">
									<b>Are you sure you want to delete this Announcement?</b>
								</div>
								<footer class="slds-modal__footer deleteModal">
									<lightning-button variant="neutral" class="slds-p-right_medium" label="Cancel"
										onclick={handleCancel}>
									</lightning-button>
									<lightning-button variant="destructive" label="Delete" onclick={handleDelete}>
									</lightning-button>
								</footer>
							</div>
						</section>
						<div class="slds-backdrop slds-backdrop_open"></div>
					</template>
				</template>

				<template if:true={isPostTab}>
					<c-employee-post-create-cmp post-record-id={recordId}></c-employee-post-create-cmp>

				</template>
				<template if:true={isHolidaysTab}>
					<c-holidays></c-holidays>
				</template>
			</div>
		</div>
		<div class="birthdayalign" style="width:33.5%;">
			<c-birthday-and-workanniversary></c-birthday-and-workanniversary>
		</div>
	</div>
	<!-- </div> -->
	<!-- <div class="birthdayalign" style="width:33.5%;">
		<c-birthday-and-workanniversary></c-birthday-and-workanniversary>
	</div> -->
	<!-- </div> -->


	<!-- <template if:true={announcements.data}>
        <template for:each={announcements.data} for:item="announcement">
            <div key={announcement}>
               <lightning-formatted-rich-text value={announcement}>
											</lightning-formatted-rich-text>
            </div>
        </template>
    </template> -->

</template>